tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(x.conc)),
ticks = "none"),
yaxis = list(title = as.character(""),
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(y.conc)),
ticks = "none"),
zaxis = list(title = "", range = c(-20, 100),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array",
tickvals = seq.int(-20,100,20)#,
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p
p = plot_ly(z = rotate(rotate(rotate(cMat))), x = subX, y = subY, type = "surface",
contours = list(y = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap),
x = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap)),
hoverinfo = "z+name", name = "d - score",
colorbar = list(outlinewidth = 0, title = "\U03B4 - score", len = 0.24, thickness = 19, xpad = 3, showticklabels = !0,
titlefont = 9, outlinewidth = 0.3, tickcolor = "#fff", tickfont = list(size = 9), ticks = "inside"),
colorscale = list(c(0, "rgb(0, 247, 0)"), c(0.5, "rgb(247, 247, 247)"), c(1, "rgb(247, 0, 0)")),
cauto = F, cmin = start.point, cmax = end.point,
contour = list(show = !1, color = "#222"))
p =  plot_ly(z = rotate(rotate(rotate(cMat))), x = subX, y = subY,
type = "surface", hoverinfo = "z+name", name = "d - score",
contours = list(y = list(show = !1), x = list(show = !1)),
colorbar = list(outlinewidth = 0, title = "\U03B4 - score",
len = 0.24, thickness = 19, xpad = 3,
showticklabels = !0, titlefont = 9,
outlinewidth = 0.3, tickcolor = "#fff",
tickfont = list(size = 9), ticks = "inside"),
colorscale = list(c(0, "rgb(0, 247, 0)"),
c(0.5, "rgb(247, 247, 247)"),
c(1, "rgb(247, 0, 0)")),
cauto = F, cmin = start.point, cmax = end.point,
# contour = list(show = !1, color = "#222")
)
p
runApp()
runApp()
runApp()
runApp()
runApp()
p = plot_ly(z = rotate(rotate(rotate(cMat))), x = subX, y = subY, type = "surface",
contours = list(y = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap),
x = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap)),
hoverinfo = "z+name", name = "d - score",
colorbar = list(outlinewidth = 0, title = "\U03B4 - score", len = 0.24, thickness = 19, xpad = 3, showticklabels = !0,
titlefont = 9, outlinewidth = 0.3, tickcolor = "#fff", tickfont = list(size = 9), ticks = "inside"),
colorscale = list(c(0, "rgb(0, 247, 0)"), c(0.5, "rgb(247, 247, 247)"), c(1, "rgb(247, 0, 0)")),
cauto = F, cmin = start.point, cmax = end.point,
contour = list(show = !1, color = "#222"))
zRange <-
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(x.conc)),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(y.conc)),
ticks = "none"),
zaxis = list(title = titleZaxis,
#range = c(-20, 100),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array",
tickvals = seq.int(- max(), max(x.conc),
length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
zRange <-
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(x.conc)),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(y.conc)),
ticks = "none"),
zaxis = list(title = titleZaxis,
#range = c(-20, 100),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array",
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
zRange <-
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(x.conc)),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(y.conc)),
ticks = "none"),
zaxis = list(title = titleZaxis,
#range = c(-20, 100),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array"
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(x.conc)),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(y.conc)),
ticks = "none"),
zaxis = list(title = titleZaxis,
#range = c(-20, 100),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array"
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p
p = plot_ly(z = rotate(rotate(rotate(cMat))), x = subX, y = subY, type = "surface",
contours = list(y = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap),
x = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap)),
hoverinfo = "z+name", name = "d - score",
colorbar = list(outlinewidth = 0, title = "\U03B4 - score", len = 0.24, thickness = 19, xpad = 3, showticklabels = !0,
titlefont = 9, outlinewidth = 0.3, tickcolor = "#fff", tickfont = list(size = 9), ticks = "inside"),
colorscale = list(c(0, "rgb(0, 247, 0)"), c(0.5, "rgb(247, 247, 247)"), c(1, "rgb(247, 0, 0)")),
cauto = F, cmin = start.point, cmax = end.point,
contour = list(show = !1, color = "#222"))
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
ticktext = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(y.conc)),
ticks = "none"),
zaxis = list(title = titleZaxis,
#range = c(-20, 100),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array"
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p
p = plot_ly(z = rotate(rotate(rotate(cMat))), x = subX, y = subY, type = "surface",
contours = list(y = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap),
x = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap)),
hoverinfo = "z+name", name = "d - score",
colorbar = list(outlinewidth = 0, title = "\U03B4 - score", len = 0.24, thickness = 19, xpad = 3, showticklabels = !0,
titlefont = 9, outlinewidth = 0.3, tickcolor = "#fff", tickfont = list(size = 9), ticks = "inside"),
colorscale = list(c(0, "rgb(0, 247, 0)"), c(0.5, "rgb(247, 247, 247)"), c(1, "rgb(247, 0, 0)")),
cauto = F, cmin = start.point, cmax = end.point,
contour = list(show = !1, color = "#222"))
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
ticktext = round(seq.int(min(x.conc), max(x.conc), length.out = length(x.conc)), 0),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
#ticktext = rep("", length(y.conc)),
ticks = "none"),
zaxis = list(title = titleZaxis,
#range = c(-20, 100),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array"
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p
?seq.int
y.conc
cMat
z.range <- max(abs(cMat))
z.range <- round(max(abs(cMat))/10 + 1, 0) * 10
z.extrem <- round(max(abs(cMat))/10 + 1, 0) * 10
p = plot_ly(z = rotate(rotate(rotate(cMat))), x = subX, y = subY, type = "surface",
contours = list(y = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap),
x = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap)),
hoverinfo = "z+name", name = "d - score",
colorbar = list(outlinewidth = 0, title = "\U03B4 - score", len = 0.24, thickness = 19, xpad = 3, showticklabels = !0,
titlefont = 9, outlinewidth = 0.3, tickcolor = "#fff", tickfont = list(size = 9), ticks = "inside"),
colorscale = list(c(0, "rgb(0, 247, 0)"), c(0.5, "rgb(247, 247, 247)"), c(1, "rgb(247, 0, 0)")),
cauto = F, cmin = start.point, cmax = end.point,
contour = list(show = !1, color = "#222"))
z.extrem <- round(max(abs(cMat))/10 + 1, 0) * 10
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
# tickvals = seq.int(min(x.conc),
#                    max(x.conc),
#                    length.out = length(x.conc)),
tickvals = x.conc,
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(x.conc)),
ticktext = round(x.conc, 0),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
# tickvals = seq.int(max(y.conc),
#                    min(y.conc),
#                    length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(y.conc)),
ticktext = round(y.conc, 0),
ticks = "none"),
zaxis = list(title = titleZaxis,
# range = c(-20, 100),
range = c(- z.extrem, z.extrem)
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array"
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
# tickvals = seq.int(min(x.conc),
#                    max(x.conc),
#                    length.out = length(x.conc)),
tickvals = x.conc,
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(x.conc)),
ticktext = round(x.conc, 0),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
# tickvals = seq.int(max(y.conc),
#                    min(y.conc),
#                    length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(y.conc)),
ticktext = round(y.conc, 0),
ticks = "none"),
zaxis = list(title = titleZaxis,
# range = c(-20, 100),
range = c(- z.extrem, z.extrem),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array"
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p
start.point
end.point
p = plot_ly(z = rotate(rotate(rotate(cMat))), x = subX, y = subY, type = "surface",
contours = list(y = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap),
x = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap)),
hoverinfo = "z+name", name = "d - score",
colorbar = list(outlinewidth = 0, title = "\U03B4 - score", len = 0.24, thickness = 19, xpad = 3, showticklabels = !0,
titlefont = 9, outlinewidth = 0.3, tickcolor = "#fff", tickfont = list(size = 9), ticks = "inside"),
colorscale = list(c(0, "rgb(0, 247, 0)"), c(0.5, "rgb(247, 247, 247)"), c(1, "rgb(247, 0, 0)")),
cauto = F, cmin = start.point, cmax = end.point,
contour = list(show = !1, color = "#222"))
# p = plot_ly(z = rotate(rotate(t(cMat))), x = subX, y = subY, type = "surface",
#             contours = list(y = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap),
#                             x = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap)),
#             hoverinfo = "z+name", name = "d - score",
#             colorbar = list(outlinewidth = 0, title = "\U03B4 - score", len = 0.24, thickness = 19, xpad = 3, showticklabels = !0,
#                             titlefont = 9, outlinewidth = 0.3, tickcolor = "#fff", tickfont = list(size = 9), ticks = "inside"),
#             colorscale = list(c(0, "rgb(0, 247, 0)"), c(0.5, "rgb(247, 247, 247)"), c(1, "rgb(247, 0, 0)")),
#             cauto = F, cmin = start.point, cmax = end.point,
#             contour = list(show = !1, color = "#222"))
#
p = p %>% layout(title = title3D,
scene = list(yaxis = list(title = as.character(drug.row), tickmode = "array",
tickvals = seq(0, ncol(cMat), length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
ticks = "outside", ticktext = as.character(y.conc)),
xaxis = list(title = as.character(drug.col), tickmode = "array",
tickvals = seq(0, nrow(cMat), length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
ticks = "outside", ticktext = as.character(x.conc)),
#zaxis = list(title = "\U03B4 - score", range = c(start.point, end.point),
#             tickfont = list(family = "serif", size = 12), ticks = "outside")
zaxis = list(title = "\U03B4 - scores", tickmode = "array",
tickvals = seq(start.point, end.point, length.out = 9),
tickfont = list(family = "serif", size = 12),
ticks = "outside", ticktext = seq(start.point, end.point, length.out = 9))
)
)
p
10 - 3.25
p = plot_ly(z = rotate(rotate(rotate(cMat))), x = subX, y = subY, type = "surface",
contours = list(y = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap),
x = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap)),
hoverinfo = "z+name", name = "d - score",
colorbar = list(outlinewidth = 0, title = "\U03B4 - score", len = 0.24, thickness = 19, xpad = 3, showticklabels = !0,
titlefont = 9, outlinewidth = 0.3, tickcolor = "#fff", tickfont = list(size = 9), ticks = "inside"),
colorscale = list(c(0, "rgb(0, 247, 0)"), c(0.5, "rgb(247, 247, 247)"), c(1, "rgb(247, 0, 0)")),
cauto = F, cmin = start.point, cmax = end.point,
contour = list(show = !1, color = "#222"))
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(x.conc)),
ticktext = round(x.conc, 0),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(y.conc)),
ticktext = round(y.conc, 0),
ticks = "none"),
zaxis = list(title = titleZaxis,
# range = c(-20, 100),
range = c(start.point, end.point),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array"
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p
titleZaxis
titleZaxis <-  paste0(method_, " synergy score")
titleZaxis <- "\U03B4 - score"
p = plot_ly(z = rotate(rotate(rotate(cMat))), x = subX, y = subY, type = "surface",
contours = list(y = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap),
x = list(show = !0, width = gridsize, highlightwidth = 2, usecolormap = colmap)),
hoverinfo = "z+name", name = "d - score",
colorbar = list(outlinewidth = 0, title = "\U03B4 - score", len = 0.24, thickness = 19, xpad = 3, showticklabels = !0,
titlefont = 9, outlinewidth = 0.3, tickcolor = "#fff", tickfont = list(size = 9), ticks = "inside"),
colorscale = list(c(0, "rgb(0, 247, 0)"), c(0.5, "rgb(247, 247, 247)"), c(1, "rgb(247, 0, 0)")),
cauto = F, cmin = start.point, cmax = end.point,
contour = list(show = !1, color = "#222"))
p = p %>% plotly::layout(title = "",
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(x.conc)),
ticktext = round(x.conc, 0),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(y.conc)),
ticktext = round(y.conc, 0),
ticks = "none"),
zaxis = list(title = titleZaxis,
# range = c(-20, 100),
range = c(start.point, end.point),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array"
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p
p = p %>% plotly::layout(title = title3D,
scene = list(xaxis = list(title = drug.row,
tickmode = "array",
tickvals = seq.int(min(x.conc),
max(x.conc),
length.out = length(x.conc)),
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(x.conc)),
ticktext = round(x.conc, 0),
ticks = "none"),
yaxis = list(title = drug.col,
tickmode = "array",
tickvals = seq.int(max(y.conc),
min(y.conc),
length.out = length(y.conc)),
tickfont = list(family = "serif", size = 12),
# ticktext = rep("", length(y.conc)),
ticktext = round(y.conc, 0),
ticks = "none"),
zaxis = list(title = titleZaxis,
# range = c(-20, 100),
range = c(start.point, end.point),
tickfont = list(family = "serif",
size = 12),
ticks = "none", tickmode = "array"
#tickvals = seq.int(- max(), max(x.conc),
#                  length.out = length(x.conc)),
#ticktext = rep("", 7)
),
camera = list(eye = list(x = -1.25, y = -1.25, z = 1.25))
))
p
runApp()
runApp()
runApp()
?zip
runApp()
runApp()
dir()
dir_
dir_ <- gsub(":","",gsub("-", "", gsub("\\s", "", paste0(Sys.time()))))
dir_
setwd("~/Desktop/test_synergyfinder")
setProgress(message = 'Report is being generated',
detail = 'This may take a while...', value=1)
curdir <- getwd()
dir_ <- gsub(":","",gsub("-", "", gsub("\\s", "", paste0(Sys.time()))))
dir_
reportspath
runApp()
